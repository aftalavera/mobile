<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');class Funcionario extends CI_Controller {	public function __construct()    {        parent::__construct();        $this->load->helper('url');        if (!$this->session->userdata('logged_in'))        {		redirect('login/'.$this->uri->uri_string(), 'refresh');        }    }            public function index()    {		$this->load->model('Funcionarios');	    $data['summary']=$this->Funcionarios->get_summary();		$this->load->view('summary',$data);	}		public function detail($precinto=1)	{		$this->load->model('Funcionarios');		$this->load->model('Precintos');				$data['name']=$this->Precintos->get_name($precinto);		$data['precinto']=$precinto;		$data['header']=$this->Funcionarios->get_summary_header($precinto);		$data['detail']=$this->Funcionarios->get_detail($precinto);				$this->load->view('detail',$data);	}		public function listing($precinto,$unidad,$type)	{		$this->load->model('Funcionarios');		$this->load->model('Precintos');				$data['name']=$this->Precintos->get_name($precinto);		$data['precinto']=$precinto;		$data['unidad']=$unidad;				$data['detail']=$this->Funcionarios->get_list($precinto,$unidad,$type);				$this->load->view('listing',$data);	}		public function jsummary()	{		$this->load->model('Funcionarios');	        echo json_encode($this->Funcionarios->get_summary());	}	public function jdetail($precinto)	{		$this->load->model('Funcionarios');	        echo json_encode($this->Funcionarios->get_detail($precinto));	}	}